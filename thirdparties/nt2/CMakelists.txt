cmake_minimum_required(VERSION 2.8)
project(nt2Builder)
include(ExternalProject)

find_package(Git)
if(NOT GIT_FOUND)
    message(FATAL_ERROR "Git not found")
endif()
  
set(nt2_PREFIX "${CMAKE_CURRENT_BINARY_DIR}")
set(nt2_INSTALL_DIR "${CMAKE_CURRENT_BINARY_DIR}")
#set(nt2_CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${nt2_INSTALL_DIR})
#todo list include to install

message("nt2_PREFIX='${nt2_PREFIX}'")
#message("nt2_INSTALL_DIR='${nt2_INSTALL_DIR}'")
#message("nt2_CMAKE_ARGS='${nt2_CMAKE_ARGS}'")
message("GIT_EXECUTABLE='${GIT_EXECUTABLE}'")

ExternalProject_Add(nt2
  PREFIX ${nt2_PREFIX}
  GIT_REPOSITORY https://github.com/MetaScale/nt2.git
  GIT_TAG release-3.1
  CONFIGURE_COMMAND ""
  BUILD_COMMAND ""
  INSTALL_COMMAND "" 
  #INSTALL_DIR ${nt2_INSTALL_DIR}
  #CMAKE_ARGS ${nt2_CMAKE_ARGS}
)
SET(nt2_sources ${nt2_PREFIX}/nt2/src)  
include_directories(${nt2_sources})