cmake_minimum_required(VERSION 2.8)
project(nt2Builder)
include(ExternalProject)

# find_package(Git)
# if(NOT GIT_FOUND)
    # message(FATAL_ERROR "Git not found")
# endif()
  
set(nt2_PREFIX E:/programmation/nt2)
#set(nt2_INSTALL_DIR E:/programmation/nt2)
#set(nt2_CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${nt2_INSTALL_DIR})
#todo list include to install ?

message("nt2_PREFIX='${nt2_PREFIX}'")
message("nt2_INSTALL_DIR='${nt2_INSTALL_DIR}'")
#message("nt2_CMAKE_ARGS='${nt2_CMAKE_ARGS}'")
#message("GIT_EXECUTABLE='${GIT_EXECUTABLE}'")

# ExternalProject_Add(nt2dep
  # PREFIX ${nt2_PREFIX}
  # GIT_REPOSITORY https://github.com/MetaScale/nt2.git
  # GIT_TAG release-3.1
  # CONFIGURE_COMMAND ""
  # BUILD_COMMAND ""
  # INSTALL_COMMAND "" 
# ) #SET CONFIGURE_COMMAND, BUILD_COMMAND and INSTALL_COMMAND to "" compile nothing

set(NT2_DIR ${nt2_PREFIX}/cmake)
find_package(NT2 REQUIRED)
set_property(TARGET nt2 PROPERTY FOLDER "Dependencies/")
set_property(TARGET nt2_bench PROPERTY FOLDER "Dependencies/")
set_property(TARGET nt2_bench_static PROPERTY FOLDER "Dependencies/")
set_property(TARGET nt2_random PROPERTY FOLDER "Dependencies/")
set_property(TARGET nt2_random_static PROPERTY FOLDER "Dependencies/")
set_property(TARGET nt2_static PROPERTY FOLDER "Dependencies/")
set_property(TARGET nt2_unit PROPERTY FOLDER "Dependencies/")
set_property(TARGET nt2_unit_static PROPERTY FOLDER "Dependencies/")

include(${NT2_USE_FILE})
SET(NT2_INCLUDE_DIR ${NT2_INCLUDE_DIR} PARENT_SCOPE)
